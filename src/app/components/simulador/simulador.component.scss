/* =========================================
   1. LAYOUT GERAL
   ========================================= */
.simulador-page {
  padding: 40px 20px;
  max-width: 1200px;
  margin: 0 auto;
  margin-top: 80px;
  font-family: 'Segoe UI', sans-serif;
}

.simulador-header {
  text-align: center;
  margin-bottom: 20px;
  h2 { color: #2e7d32; font-size: 2rem; margin-bottom: 10px; }
  p { color: #666; font-size: 1.1rem; }
}

/* =========================================
   2. CONTROLES
   ========================================= */
.painel-controle {
  background: white; padding: 15px 20px; border-radius: 8px; border: 1px solid #e0e0e0; margin-bottom: 20px;
  display: flex; justify-content: center; box-shadow: 0 2px 8px rgba(0,0,0,0.05);
}

.inputs-area {
  display: flex; gap: 15px; align-items: flex-end;
  .input-group {
    display: flex; flex-direction: column;
    label { font-size: 0.8rem; font-weight: bold; margin-bottom: 5px; color: #555; }
    input { padding: 8px; border: 1px solid #ccc; border-radius: 4px; width: 80px; outline: none; &:focus { border-color: #2e7d32; } }
  }
}

.btn-gerar {
  padding: 8px 15px; background-color: #333; color: white; border: none; border-radius: 4px; cursor: pointer; height: 35px; font-weight: 600; transition: background 0.2s;
  &:hover { background-color: #000; }
}

/* =========================================
   3. WORKSPACE (GRID + SIDEBAR)
   ========================================= */
.workspace {
  display: flex; gap: 30px; align-items: flex-start; flex-wrap: wrap;
}

/* --- GRID --- */
.grid-section {
  flex: 2; background-color: #f5f5f5; padding: 40px; border-radius: 12px; border: 1px solid #eee;
  display: flex; flex-direction: column; align-items: center; min-width: 300px; overflow: auto; max-height: 700px;
  box-shadow: inset 0 0 20px rgba(0,0,0,0.05);
}

.terreno-grid {
  display: grid; gap: 0;
  border-top: 1px solid #ccc; border-left: 1px solid #ccc;
  width: fit-content;
  user-select: none; -webkit-user-select: none;
  box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}

.bloco-terra {
  width: 25px; height: 25px;
  background-color: #f9fbe7; /* Grade visível (papel milimetrado) */
  border-right: 1px solid #ccc; border-bottom: 1px solid #ccc;
  cursor: crosshair; position: relative;
  transition: background-color 0s, transform 0.1s;

  &:hover { box-shadow: inset 0 0 0 2px rgba(0,0,0,0.2); z-index: 10; }
}

.dica-uso { margin-top: 15px; color: #777; font-size: 0.9rem; font-style: italic; }

/* --- SIDEBAR --- */
.areas-section {
  flex: 1; min-width: 280px; background: white; border: 1px solid #e0e0e0; border-radius: 12px; padding: 20px;
  max-height: 85vh; overflow-y: auto; box-shadow: 0 4px 12px rgba(0,0,0,0.05);
}

.areas-header {
  display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px;
  h3 { margin: 0; color: #333; font-size: 1.1rem; }
}

.btn-nova-area {
  background-color: #2e7d32; color: white; border: none; padding: 6px 12px; border-radius: 20px; cursor: pointer; font-size: 0.85rem; font-weight: bold; transition: background 0.2s;
  &:hover { background-color: #1b5e20; }
}

.lista-areas { display: flex; flex-direction: column; gap: 10px; }

.area-card {
  border: 2px solid transparent; background-color: #f9f9f9; border-radius: 8px; padding: 12px; cursor: pointer; transition: all 0.2s;
  &:hover { background-color: #f0f0f0; }
  &.ativo { background-color: white; border-color: #2e7d32; box-shadow: 0 4px 10px rgba(46,125,50, 0.15); }
}

.card-top {
  display: flex; align-items: center; gap: 10px; margin-bottom: 8px;
  .cor-indicador { width: 18px; height: 18px; border-radius: 4px; border: 1px solid rgba(0,0,0,0.1); flex-shrink: 0; }
  input { flex: 1; border: none; background: transparent; font-weight: 600; font-size: 0.95rem; color: #333; outline: none; border-bottom: 1px dashed transparent; padding-bottom: 2px; &:focus { border-bottom-color: #999; } }
  .btn-delete { background: none; border: none; cursor: pointer; font-size: 0.9rem; opacity: 0.4; &:hover { opacity: 1; } }
}

.card-info {
  display: flex; justify-content: space-between; align-items: center; font-size: 0.85rem; color: #666;
  .status-pintando { color: #2e7d32; font-weight: bold; font-size: 0.75rem; text-transform: uppercase; animation: pulse 1.5s infinite; }
}
@keyframes pulse { 0% { opacity: 0.5; } 50% { opacity: 1; } 100% { opacity: 0.5; } }
.empty-state { text-align: center; color: #999; padding: 30px 20px; border: 1px dashed #ccc; border-radius: 8px; margin-top: 10px; font-size: 0.9rem; }

/* =========================================
   4. PAINEL DE ANÁLISE E ESTRATÉGIA
   ========================================= */
.painel-analise {
  margin-top: 30px; background-color: #fff; border-top: 2px solid #2e7d32; padding-top: 20px; animation: slideUp 0.3s ease-out;
  h4 { margin: 0 0 5px 0; color: #1b5e20; font-size: 1.1rem; }
  .analise-desc { font-size: 0.85rem; color: #666; margin-bottom: 15px; }
}
@keyframes slideUp { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

.form-solo {
  display: flex; gap: 10px; margin-bottom: 20px;
  .campo {
    flex: 1; display: flex; flex-direction: column;
    label { font-size: 0.8rem; font-weight: bold; color: #555; margin-bottom: 4px; }
    input { padding: 8px; border: 1px solid #ccc; border-radius: 4px; width: 100%; transition: border 0.2s; &:focus { border-color: #2e7d32; outline: none; } }
  }
}

.selecao-cultura {
  margin-bottom: 20px; display: flex; flex-direction: column;
  label { font-size: 0.9rem; font-weight: bold; color: #2e7d32; margin-bottom: 5px; }
  select { padding: 10px; border: 1px solid #ccc; border-radius: 6px; font-size: 1rem; background-color: white; cursor: pointer; outline: none; transition: border 0.2s; &:focus { border-color: #2e7d32; } }
}

.resultados-box { background-color: #f1f8e9; padding: 15px; border-radius: 8px; border: 1px solid #c8e6c9; }

.resumo-rapido {
  display: flex; gap: 10px; margin-bottom: 15px; flex-wrap: wrap;
  .tag { background: white; border: 1px solid #ccc; padding: 4px 10px; border-radius: 20px; font-size: 0.8rem; font-weight: 600; color: #555; }
  .tag.alerta { background-color: #ffebee; color: #c62828; border-color: #ef9a9a; }
}

/* Card de Estratégia */
.estrategia-card { background: white; border-radius: 8px; padding: 15px; box-shadow: 0 2px 5px rgba(0,0,0,0.05); }

.card-header-cultura {
  display: flex; justify-content: space-between; align-items: center; margin-bottom: 10px;
  h5 { margin: 0; color: #1b5e20; font-size: 1.2rem; }
  .tipo-badge { background: #e0f2f1; color: #00695c; padding: 2px 8px; border-radius: 10px; font-size: 0.75rem; text-transform: uppercase; font-weight: bold; }
}

.funcao-sistema { font-size: 0.9rem; color: #555; margin-bottom: 15px; border-bottom: 1px dashed #eee; padding-bottom: 10px; }

.grid-vizinhos {
  display: flex; gap: 15px; margin-bottom: 15px;
  .coluna-vizinhos {
    flex: 1;
    h6 { margin: 0 0 8px 0; font-size: 0.85rem; }
    &.bons h6 { color: #2e7d32; } &.ruins h6 { color: #c62828; }
  }
}

.tags-lista {
  display: flex; flex-wrap: wrap; gap: 5px;
  span { padding: 4px 8px; border-radius: 4px; font-size: 0.8rem; font-weight: 500; }
  .tag-bom { background-color: #c8e6c9; color: #1b5e20; border: 1px solid #a5d6a7; }
  .tag-ruim { background-color: #ffcdd2; color: #b71c1c; border: 1px solid #ef9a9a; }
}

.dica-design { font-size: 0.85rem; background-color: #fff8e1; color: #f57f17; padding: 10px; border-radius: 6px; border-left: 3px solid #ffca28; }

/* Responsividade */
@media (max-width: 768px) {
  .simulador-page { padding: 20px 10px; }
  .workspace { flex-direction: column; }
  .grid-section, .areas-section { width: 100%; }
  .grid-vizinhos { flex-direction: column; }
}